<div class="login-card">
  <div class="login-visual" aria-hidden="false">
    <div class="visual-inner">
      <div class="brand">Repuestos • Sistema</div>
      <p class="login-visual-sub">Gestiona inventario, productos y movimientos desde un solo lugar</p>

      <div class="visual-illustration" aria-hidden="true">
        <svg width="220" height="160" viewBox="0 0 220 160" fill="none" xmlns="http://www.w3.org/2000/svg" role="img">
          <rect x="0" y="0" width="220" height="160" rx="12" fill="rgba(255,255,255,0.06)" />
          <g transform="translate(28,22)" fill="none" stroke="rgba(255,255,255,0.96)" stroke-width="2">
            <rect x="2" y="2" width="120" height="80" rx="8" stroke-opacity="0.14" fill="rgba(255,255,255,0.03)"/>
            <path d="M10 30h100" stroke-opacity="0.18"/>
            <circle cx="30" cy="24" r="4" fill="white" opacity="0.95" />
            <g transform="translate(74,8)">
              <path d="M6 10v18" stroke-linecap="round" stroke-opacity="0.9"/>
              <path d="M0 24h26" stroke-linecap="round" stroke-opacity="0.9"/>
            </g>
          </g>
          <g transform="translate(28,110)" fill="none" stroke="rgba(255,255,255,0.95)" stroke-width="2">
            <rect x="0" y="0" width="30" height="30" rx="6" stroke-opacity="0.12"/>
            <rect x="44" y="0" width="30" height="30" rx="6" stroke-opacity="0.12"/>
            <rect x="88" y="0" width="30" height="30" rx="6" stroke-opacity="0.12"/>
          </g>
        </svg>
      </div>
    </div>
  </div>

  <div class="login-body">
    <div class="login-header">
      <h2 class="login-title">Iniciar Sesión</h2>
      <p class="login-subtitle">Ingresa a tu cuenta para continuar</p>
    </div>

    <form class="form" (ngSubmit)="onLogin()" #loginForm="ngForm">

      <div class="form-group">
        <label for="correo">Correo electrónico</label>
        <input id="correo" type="email" name="correo" [(ngModel)]="correo" placeholder="tu@correo.com"
               required email #emailInput="ngModel">
        <div class="error" *ngIf="emailInput.invalid && emailInput.touched">
          Por favor, ingresa un correo electrónico válido
        </div>
      </div>

      <div class="form-group" style="position: relative;">
        <label for="contrasenia">Contraseña</label>
        <input id="contrasenia" [type]="showPassword ? 'text' : 'password'" name="contrasenia"
               [(ngModel)]="contrasenia" placeholder="Contraseña" required #passwordInput="ngModel">

        <button type="button" class="btn-ghost" (click)="togglePasswordVisibility()"
                aria-label="Mostrar/Ocultar contraseña"
                style="position: absolute; right: 8px; top: 36px; padding: 0.35rem 0.55rem;">
          <i [class]="showPassword ? 'fas fa-eye-slash' : 'fas fa-eye'"></i>
        </button>

        <div class="error" *ngIf="passwordInput.invalid && passwordInput.touched">
          La contraseña es requerida
        </div>
      </div>

      <div class="actions">
        <label class="remember"><input type="checkbox" name="remember" [(ngModel)]="remember"> Recuérdame</label>
      </div>

      <button type="submit" class="btn btn-primary" [disabled]="loginForm.invalid || isLoading">
        <span *ngIf="!isLoading">Ingresar</span>
        <span *ngIf="isLoading" class="loading">Cargando...</span>
      </button>

      <hr class="divider">

    </form>
  </div>
</div>